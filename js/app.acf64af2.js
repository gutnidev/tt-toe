(function(e){function t(t){for(var n,c,a=t[0],l=t[1],s=t[2],f=0,d=[];f<a.length;f++)c=a[f],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&d.push(i[c][0]),i[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var l=r[a];0!==i[l]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},i={app:0},o=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/tt-toe/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"wrap"},[r("div",{staticClass:"table_wrap"},[r("table",[r("AppTr",e._l(e.cells.firstLine,(function(t,n){return r("AppCell",{key:n,class:{win:t.color},nativeOn:{click:function(r){return e.turnClick(t.id)}}},[e._v(" "+e._s(t.text)+" ")])})),1),r("AppTr",e._l(e.cells.secondLine,(function(t,n){return r("AppCell",{key:n,class:{win:t.color},nativeOn:{click:function(r){return e.turnClick(t.id)}}},[e._v(" "+e._s(t.text)+" ")])})),1),r("AppTr",e._l(e.cells.thirdLine,(function(t,n){return r("AppCell",{key:n,class:{win:t.color},nativeOn:{click:function(r){return e.turnClick(t.id)}}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),r("a",{staticClass:"replay",on:{click:function(t){return e.startGame()}}},[e._v("Снова")]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isModal,expression:"isModal"}],staticClass:"end_game"},[r("span",{staticClass:"close",on:{click:function(t){e.isModal=!e.isModal}}},[e._v("X")]),r("div",{staticClass:"text"},[e._v(e._s(e.modalText))]),r("a",{staticClass:"again-button",attrs:{href:"#"},on:{click:function(t){return e.startGame()}}},[e._v("Снова")])])])])])},o=[],c=(r("99af"),r("a623"),r("4de4"),r("4160"),r("a630"),r("c975"),r("13d5"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("2909")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{ref:"9",staticClass:"cell"},[e._t("default")],2)},l=[],s={name:"AppCell"},u=s,f=r("2877"),d=Object(f["a"])(u,a,l,!1,null,"214c9b84",null),h=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[e._t("default")],2)},v=[],y={name:"AppTr"},m=y,b=Object(f["a"])(m,p,v,!1,null,"42380662",null),g=b.exports,x={name:"App",components:{AppCell:h,AppTr:g},data:function(){return{isModal:!1,huPlayer:"O",aiPlayer:"X",origBoard:null,winCombos:[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],cells:{firstLine:[{id:0,color:"",text:""},{id:1,color:"",text:""},{id:2,color:"",text:""}],secondLine:[{id:3,color:"",text:""},{id:4,color:"",text:""},{id:5,color:"",text:""}],thirdLine:[{id:6,color:"",text:""},{id:7,color:"",text:""},{id:8,color:"",text:""}]},modalText:"",cellArray:null,isGameWon:!1}},mounted:function(){this.startGame()},methods:{startGame:function(){this.isModal=!1,this.origBoard=Array.from(Array(9).keys()),this.cellArray=[].concat(Object(c["a"])(this.cells.firstLine),Object(c["a"])(this.cells.secondLine),Object(c["a"])(this.cells.thirdLine)),this.cellArray.forEach((function(e){e.text="",e.color=""})),this.isGameWon=!1},turnClick:function(e){"number"!==typeof this.origBoard[e]||this.isGameWon||(this.turn(e,this.huPlayer),this.checkWin(this.origBoard,this.huPlayer)||this.checkTie()||this.turn(this.bestSpot(),this.aiPlayer))},turn:function(e,t){this.origBoard[e]=t,this.cellArray[e].text=t;var r=this.checkWin(this.origBoard,t);r&&this.gameOver(r)},checkWin:function(e,t){var r=e.reduce((function(e,r,n){return r===t?e.concat(n):e}),[]),n=null;return this.winCombos.forEach((function(e,i){if(e.every((function(e){return r.indexOf(e)>-1})))return n={index:i,player:t},n})),n},gameOver:function(e){var t=this;this.winCombos[e.index].forEach((function(r){t.cellArray[r].color=e.player===t.huPlayer?"green":"red"})),this.declareWinner(e.player===this.huPlayer?"Вы победили":"Вы проиграли")},declareWinner:function(e){this.isModal=!0,this.modalText=e,this.isGameWon=!0},emptySquares:function(){return this.origBoard.filter((function(e){return"number"===typeof e}))},bestSpot:function(){return this.minimax(this.origBoard,this.aiPlayer).index},checkTie:function(){return 0===this.emptySquares().length&&(this.cellArray.forEach((function(e){return e.color="grey"})),this.declareWinner("Ничья!"),!0)},minimax:function(e,t){var r=this,n=this.emptySquares();if(this.checkWin(e,this.huPlayer))return{score:-10};if(this.checkWin(e,this.aiPlayer))return{score:10};if(0===n.length)return{score:0};var i=[];n.forEach((function(n){var o={index:e[n],score:null};e[n]=t;var c=t===r.aiPlayer?r.huPlayer:r.aiPlayer,a=r.minimax(e,c);o.score=a.score,e[n]=o.index,i.push(o)}));var o=null;if(t===this.aiPlayer){var c=-1e4;i.forEach((function(e,t){e.score>c&&(c=e.score,o=t)}))}else{var a=1e4;i.forEach((function(e,t){e.score<a&&(a=e.score,o=t)}))}return i[o]}}},_=x,k=(r("5c0b"),Object(f["a"])(_,i,o,!1,null,null,null)),w=k.exports,O=r("9483");Object(O["a"])("".concat("/tt-toe/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(w)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),i=r.n(n);i.a},"9c0c":function(e,t,r){}});
//# sourceMappingURL=app.acf64af2.js.map